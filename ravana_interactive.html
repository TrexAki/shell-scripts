<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ravana — Interactive Bow & Flame</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --muted:#9aa7bf;
      --accent:#ff8c42;
      --danger:#ff3b30;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
    body{background:linear-gradient(180deg,var(--bg),#071021);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:32px}

    .stage{width:100%;max-width:1100px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden}

    header.topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{font-weight:700;font-size:18px;letter-spacing:0.6px;opacity:0;transform:translateY(-6px);animation:logoFade 3s ease-in-out infinite}
    @keyframes logoFade{0%{opacity:0;transform:translateY(-6px)}10%{opacity:1;transform:translateY(0)}60%{opacity:1}100%{opacity:0}}

    .subtitle{color:var(--muted);font-size:13px}

    .controls{display:flex;gap:8px;align-items:center}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:var(--muted);cursor:pointer;font-size:13px}
    .btn.primary{background:linear-gradient(90deg,#0ea5a7,#7c3aed);border:none;color:white}

    .arena{height:520px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}

    /* Ravana character container */
    .ravana{width:360px;height:420px;position:relative;display:flex;align-items:center;justify-content:center}

    /* simple multi-headed silhouette using SVG */
    .ravana svg{width:100%;height:100%;display:block}

    /* hit flash */
    .ravana.flash{animation:hitFlash 220ms ease-in-out}
    @keyframes hitFlash{0%{filter:brightness(1)}50%{filter:brightness(1.45) saturate(1.2)}100%{filter:brightness(1)}}

    /* Burn effect on the whole ravana */
    .ravana.burn .body{filter:drop-shadow(0 12px 18px rgba(255,92,20,0.12));}
    .ravana.burn .skin{animation:charBurn 2s forwards}
    @keyframes charBurn{0%{fill:#f6e0c3}50%{fill:#ff8c42}80%{fill:#c43a1a}100%{fill:#222;opacity:0.12}}

    /* embers/flame particles */
    .flame{position:absolute;left:50%;transform:translateX(-50%);bottom:12%;pointer-events:none}
    .flame .particle{width:8px;height:8px;border-radius:50%;position:absolute;opacity:0;filter:blur(.6px);animation:rise 1400ms ease-out forwards}
    @keyframes rise{0%{transform:translateY(0) scale(0.6);opacity:1}100%{transform:translateY(-160px) scale(1.2);opacity:0}}

    /* arrow styling and animation */
    .arrow{position:absolute;width:220px;height:6px;left:-240px;top:50%;transform:translateY(-50%) rotate(-6deg);pointer-events:none}
    .arrow .shaft{height:4px;background:linear-gradient(90deg,#e6eef8,rgba(255,255,255,0.1));border-radius:2px;display:block;width:100%}
    .arrow .head{width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:18px solid #fff;position:absolute;right:-18px;top:50%;transform:translateY(-50%)}
    .arrow.launch{animation:fly 700ms cubic-bezier(.17,.67,.1,1) forwards}
    @keyframes fly{0%{left:-240px;opacity:1}80%{left:calc(50% - 40px);opacity:1}100%{left:calc(50% - 40px);opacity:0}}

    /* ash text */
    .after{position:absolute;left:50%;transform:translateX(-50%);bottom:6%;color:#f3f4f6;opacity:0.02;font-weight:700;letter-spacing:1px}
    .after.show{opacity:0.9;transition:opacity 900ms ease 300ms}

    /* footer small */
    .meta{position:absolute;right:18px;bottom:12px;color:var(--muted);font-size:12px}

    /* responsive */
    @media (max-width:760px){.arena{height:420px}.ravana{width:300px;height:360px}}
  </style>
</head>
<body>
  <div class="stage">
    <header class="topbar">
      <div class="brand">
        <div class="logo">Created by Akshay</div>
        <div>
          <div style="font-weight:700">Ravana — Interactive</div>
          <div class="subtitle">Click (or tap) the figure to fire bows. Watch Ravana burn — tasteful animation, non-graphic.</div>
        </div>
      </div>
      <div class="controls">
        <button class="btn" id="reset">Reset</button>
        <button class="btn primary" id="fireBtn">Fire Arrow</button>
      </div>
    </header>

    <main class="arena" role="main" aria-label="Ravana interaction arena">
      <div class="ravana" id="ravana" title="Click to fire arrows">
        <!-- SVG stylized Ravana (symbolic, non-graphic) -->
        <svg viewBox="0 0 360 420" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <radialGradient id="skinGrad" cx="40%" cy="35%" r="80%">
              <stop offset="0%" stop-color="#f6e0c3"/>
              <stop offset="100%" stop-color="#e0a96a"/>
            </radialGradient>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="6" result="b"/>
              <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>

          <!-- background multi-head suggestion (circles representing heads) -->
          <g transform="translate(20,40)">
            <g opacity="0.12">
              <circle cx="40" cy="40" r="22" fill="#6b4a3a" />
              <circle cx="85" cy="28" r="22" fill="#6b4a3a" />
              <circle cx="130" cy="20" r="22" fill="#6b4a3a" />
              <circle cx="175" cy="16" r="22" fill="#6b4a3a" />
              <circle cx="220" cy="20" r="22" fill="#6b4a3a" />
              <circle cx="265" cy="28" r="22" fill="#6b4a3a" />
              <circle cx="310" cy="40" r="22" fill="#6b4a3a" />
            </g>
          </g>

          <!-- central body and face -->
          <g class="body" transform="translate(20,40)">
            <rect x="40" y="120" rx="28" ry="28" width="280" height="220" fill="#2b2f3a"/>
            <g class="skin" transform="translate(110,28)">
              <circle cx="70" cy="120" r="56" fill="url(#skinGrad)" filter="url(#glow)"/>
              <!-- eyes -->
              <ellipse cx="53" cy="114" rx="6" ry="4" fill="#222"/>
              <ellipse cx="87" cy="114" rx="6" ry="4" fill="#222"/>
              <!-- moustache -->
              <path d="M45 136 C70 150 95 150 120 136" stroke="#2b2f3a" stroke-width="6" fill="none" stroke-linecap="round"/>
              <!-- crown -->
              <g transform="translate(30,28)">
                <path d="M18 8 L30 0 L42 8 L54 0 L66 8 L78 0 L90 8 L72 28 L36 28 Z" fill="#ffd166" stroke="#e0a800" stroke-width="2"/>
              </g>
            </g>
          </g>

          <!-- nameplate -->
          <text x="50%" y="395" text-anchor="middle" font-size="18" fill="#ffffff" opacity="0.06" font-weight="700">RAVANA</text>
        </svg>
      </div>

      <!-- flame particles container -->
      <div class="flame" id="flame"></div>

      <!-- dynamic arrows will be injected here -->

      <div class="after" id="afterText">Ashes remain — Victory</div>

      <div class="meta">Tip: Click/tap the figure or the "Fire Arrow" button</div>
    </main>
  </div>

  <script>
    const ravana = document.getElementById('ravana');
    const flame = document.getElementById('flame');
    const fireBtn = document.getElementById('fireBtn');
    const resetBtn = document.getElementById('reset');
    const afterText = document.getElementById('afterText');

    let hits = 0; // count hits
    const hitsToBurn = 3; // number of volleys to trigger burn

    function spawnArrow(originLeft=false){
      const arrow = document.createElement('div');
      arrow.className = 'arrow';
      // randomize vertical offset a little
      const topOffset = 35 + Math.random()*30; // percent
      arrow.style.top = topOffset + '%';

      // randomize rotation slightly
      const rot = -6 + (Math.random()*12 - 6);
      arrow.style.transform = `translateY(-50%) rotate(${rot}deg)`;

      // arrow inner markup
      arrow.innerHTML = `<span class="shaft"></span><span class="head"></span>`;

      document.querySelector('.arena').appendChild(arrow);

      // trigger flight
      requestAnimationFrame(()=> arrow.classList.add('launch'));

      // remove after animation
      arrow.addEventListener('animationend',()=> arrow.remove());
    }

    function fireVolley(count=6){
      // create arrows in short bursts
      for(let i=0;i<count;i++){
        setTimeout(()=> spawnArrow(), i*80 + Math.random()*60);
      }
      // visual flash on ravana
      ravana.classList.add('flash');
      setTimeout(()=> ravana.classList.remove('flash'),250);

      hits++;
      if(hits >= hitsToBurn){
        triggerBurn();
      }
    }

    function triggerBurn(){
      if(ravana.classList.contains('burn')) return;
      ravana.classList.add('burn');

      // create flame particles
      const total = 26;
      for(let i=0;i<total;i++){
        const p = document.createElement('div');
        p.className = 'particle';
        // colors in gradient
        p.style.background = i%3==0 ? '#ffcd80' : (i%3==1 ? '#ff8c42' : '#ff3b30');
        p.style.left = (50 + (Math.random()*80 - 40)) + 'px';
        p.style.bottom = (20 + Math.random()*10) + 'px';
        // random delay
        p.style.animationDelay = (Math.random()*400) + 'ms';
        flame.appendChild(p);
      }

      // after a short while show ashes text
      setTimeout(()=> afterText.classList.add('show'), 1200);

      // fade out action buttons
      fireBtn.disabled = true;
      fireBtn.style.opacity = 0.6;

    }

    function resetScene(){
      hits = 0;
      ravana.classList.remove('burn');
      afterText.classList.remove('show');
      flame.innerHTML = '';
      fireBtn.disabled = false;
      fireBtn.style.opacity = 1;
    }

    // attach events
    ravana.addEventListener('click', ()=> fireVolley(6));
    fireBtn.addEventListener('click', ()=> fireVolley(6));
    resetBtn.addEventListener('click', resetScene);

    // accessibility: keyboard fire when ravana focused
    ravana.setAttribute('tabindex','0');
    ravana.addEventListener('keypress', (e)=>{ if(e.key==='Enter' || e.key===' ') fireVolley(6); });

    // small polish: prevent selection
    document.addEventListener('selectstart', e => e.preventDefault());
  </script>
</body>
</html>
